<p-sidebar [visible]="sidebarVisible" [modal]="isMobile" [showCloseIcon]="isMobile" position="left"
    [style]="{ width: isMobile ? '80%' : '250px' }" styleClass="custom-sidebar" [baseZIndex]="1000">
    <div class="sidebar-header p-3 border-bottom-1 surface-border flex justify-content-between align-items-center">
        <img src="/assets/shared/gov-logo-gam-light.png" alt="">
        <div>
            <button (click)="closeSidebar()" class="close-btn p-link block md:hidden">
                <i class="pi pi-times"></i>
            </button>
        </div>
    </div>
    <ul class="menu-list p-0 m-0 list-none">
        <li *ngFor="let item of menuItems">
            <div class="menu-item flex items-center gap-3 p-2 hover:bg-gray-100 cursor-pointer"
                (click)="toggleSubmenu(item)">
                <img *ngIf="item.iconUrl" [src]="item.iconUrl" alt="{{item.label}} icon" class="w-5 h-5" />
                <a *ngIf="!item.children" [routerLink]="item.routerLink" class="flex-1">{{ item.label }}</a>
                <span *ngIf="item.children" class="flex-1">{{ item.label }}</span>
                <svg *ngIf="item.children && !isSubmenuOpen(item)" xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
                <svg *ngIf="item.children && isSubmenuOpen(item)" xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
                </svg>
            </div>

            <ul *ngIf="item.children && isSubmenuOpen(item)" class="submenu list-none pl-6">
                <li *ngFor="let child of item.children"
                    class="p-2 hover:bg-gray-50 cursor-pointer flex items-center gap-3">
                    <!-- <img *ngIf="child.iconUrl" [src]="child.iconUrl" alt="{{child.label}} icon" class="w-4 h-4" /> -->
                    <a [routerLink]="child.routerLink" class="flex-1">{{ child.label }}</a>
                </li>
            </ul>
        </li>
    </ul>
    <button>
        تسجيل خروج
    </button>
</p-sidebar>

<button class="menu-button md:hidden p-button p-component m-2" (click)="toggleSidebar()">
    <i class="pi pi-bars"></i>
</button>